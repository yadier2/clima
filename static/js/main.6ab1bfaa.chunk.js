(this.webpackJsonpclima=this.webpackJsonpclima||[]).push([[0],{180:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(61),r=a.n(n),i=(a(70),a(7)),l=a(15),d=a.n(l),o=a(39),j=a(4),m=function(){var e=Object(s.useState)({loaded:!1,coordinates:{lat:"",lng:""}}),t=Object(j.a)(e,2),a=t[0],c=t[1],n=function(e){c({loaded:!0,coordinates:{lat:e.coords.latitude,lng:e.coords.longitude}})},r=function(e){c({loaded:!0,error:e})};return Object(s.useEffect)((function(){"geolocation"in navigator||r({code:0,message:"Geolocation not supported"}),navigator.geolocation.getCurrentPosition(n,r)}),[]),a},u=a(0),b=function(e){var t=e.getLocation,a=e.handleGeolocate,s=e.medidasTiempo;return Object(u.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light sticky-top shadow-lg",style:{backgroundColor:"#e3f2fd"},children:[Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("a",{className:"navbar-brand ",href:"/#",children:"Weather"}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(u.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsxs)("a",{className:"nav-link active",href:"/#",children:[s.ciudad," ",s.temperature," ",s.temperature&&Object(u.jsx)("sup",{children:"\xb0c"})]})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link",href:"/#",children:"Mundo"})})]})})]}),Object(u.jsxs)("div",{className:"ps-3 location-form",children:[Object(u.jsx)("div",{onClick:a,className:"",children:Object(u.jsx)("i",{className:"fas fa-map-marker-alt pe-2 fs-4"})}),Object(u.jsxs)("form",{onSubmit:t,className:"d-flex justify-content-center align-items-center p-1 bg-white rounded-pill d-md-bg-danger form-buscar",children:[Object(u.jsx)("input",{name:"city",className:"p-1 ps-3 fs-6 search",type:"search",placeholder:"Search","aria-label":"Search",style:{border:"none",background:"none",outline:"none",borderRadius:"15px"}}),Object(u.jsx)("button",{type:"submit",className:"p-1 border border-0 ",style:{background:"none"},children:Object(u.jsx)("i",{className:"fas fa-search fs-5 text-warning"})})]})]})]})},h=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"col-md-7",children:e.temperature?Object(u.jsxs)("div",{className:"card card-body text-white",style:{background:"#04709418"},children:[Object(u.jsx)("h3",{children:e.ciudad?"Tiempo en ".concat(e.ciudad):"El tiempo ahora"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("img",{src:"https://darksky.net/images/weather-icons/".concat(e.icon,".png"),style:{width:"60px"},alt:""}),Object(u.jsxs)("span",{className:"fs-1",children:[e.temperature,Object(u.jsx)("sup",{children:"\xb0c"})]}),Object(u.jsx)("h4",{className:"mt-3",children:e.summary})]}),Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsxs)("div",{className:"d-flex justify-content-between p-0 m-0",children:[Object(u.jsx)("p",{className:"fs-4 mb-0",children:"Humedad"}),Object(u.jsxs)("p",{className:"fs-4 mb-0",children:[e.humidity,"%"]})]}),Object(u.jsx)("hr",{className:"mt-1"}),Object(u.jsxs)("div",{className:"d-flex justify-content-between p-0 m-0",children:[Object(u.jsx)("p",{className:"fs-4 mb-0",children:"Viento"}),Object(u.jsxs)("p",{className:"fs-4 mb-0",children:[e.wind," mph"]})]}),Object(u.jsx)("hr",{className:"mt-1"}),Object(u.jsxs)("div",{className:"d-flex justify-content-between p-0 m-0",children:[Object(u.jsx)("p",{className:"fs-4 mb-0",children:"Presi\xf3n"}),Object(u.jsxs)("p",{className:"fs-4 mb-0",children:[e.pressure," mb"]})]}),Object(u.jsx)("hr",{className:"mt-1"})]})]})]}):Object(u.jsx)("div",{children:Object(u.jsx)("h3",{className:"text-center",children:"Verifica tu conexion o ingresa una ciudad."})})}),e.temperature&&Object(u.jsx)("div",{className:"col-md-5",children:Object(u.jsx)("div",{className:"card mt-3",children:Object(u.jsxs)("div",{className:"card-body shadow-lg",children:[Object(u.jsx)("h5",{className:"card-title",children:"Pron\xf3stico de hoy"}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"d-flex align-items-center",children:[Object(u.jsx)("img",{src:"https://darksky.net/images/weather-icons/".concat(e.icon2,".png"),width:"70px",alt:""}),Object(u.jsx)("p",{className:"card-text fs-4 ms-1",children:e.summary2})]})]})})})]})},x=a(65),p=function(e){var t=e.weatherHour,a=t.map((function(e){return parseFloat((5*((null===e||void 0===e?void 0:e.temperature)-32)/9).toFixed(1))})),s=t.map((function(e){return new Date(1e3*e.time).getHours()+":00"}));return Object(u.jsx)(u.Fragment,{children:a.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"mt-4 ",children:"Clima cada hora"}),Object(u.jsx)("div",{className:"border border-info shadow-lg ",children:Object(u.jsx)(x.a,{data:{labels:s,datasets:[{fill:!0,label:"temperature",data:a,backgroundColor:"#FFB467"}]},height:250,options:{maintainAspectRatio:!1,animations:{tension:{duration:2e3,easing:"linear",from:1,to:0,loop:!0}},scales:{yAxes:[{beginAtZero:!0}]},plugins:{legend:{display:!1}}}})})]})})},O=a(64),f=a.n(O),g=function(e){var t=e.weatherWeek;return Object(u.jsxs)("div",{children:[t.length>0&&Object(u.jsx)("h2",{className:"mt-5 mb-3",children:"Clima para la pr\xf3xima semana"}),Object(u.jsx)("div",{className:"row d-flex justify-content-around",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(u.jsxs)("div",{className:"card m-2 shadow",style:{width:"15rem"},children:[Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("img",{src:"https://darksky.net/images/weather-icons/".concat(e.icon,".png"),className:"card-img-top",alt:"...",style:{width:"80px"}})}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h5",{className:"card-title",children:Object(u.jsx)(f.a,{unix:!0,format:"dddd",children:e.time})}),Object(u.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(u.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("i",{className:"fas fa-temperature-low"})," Min"]})," ",Object(u.jsxs)("span",{children:[(5*(e.temperatureMin-32)/9).toFixed(1),Object(u.jsx)("sup",{children:"\xb0c "})]})]}),Object(u.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("i",{className:"fas fa-temperature-high"})," Max"]}),Object(u.jsxs)("span",{children:["  ",(5*(e.temperatureMin-32)/9).toFixed(1),Object(u.jsx)("sup",{children:"\xb0c"})]})]}),Object(u.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:["  ",Object(u.jsxs)("span",{children:[Object(u.jsx)("i",{className:"fas fa-wind"})," Wind"]}),Object(u.jsxs)("span",{children:[e.windSpeed," mph"]})]}),Object(u.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[" ",Object(u.jsxs)("span",{children:[Object(u.jsx)("i",{className:"fas fa-tint"})," Humidity"]})," ",Object(u.jsxs)("span",{children:[(100*e.humidity).toFixed(),"% "]})]}),Object(u.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("i",{className:"fas fa-arrows-alt-v"})," Pressure"]}),Object(u.jsxs)("span",{children:[e.pressure.toFixed()," mb"]})," "]})]})]})]},t)}))})]})},N=function(){return localStorage.getItem("lastLocation")?JSON.parse(localStorage.getItem("lastLocation")):{lat:36.115778036660316,lng:-115.17280731388223}},v=function(){var e=Object(s.useState)(""),t=Object(j.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(N),r=Object(j.a)(n,2),l=r[0],x=r[1],O=Object(s.useState)([]),f=Object(j.a)(O,2),v=f[0],y=f[1],w=Object(s.useState)([]),k=Object(j.a)(w,2),S=k[0],F=k[1],C=Object(s.useState)({}),I=Object(j.a)(C,2),M=I[0],H=I[1],J=m();new Date(1624972733e3).getHours();Object(s.useEffect)((function(){(function(){var e=Object(o.a)(d.a.mark((function e(){var t,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://corsproxybypass.herokuapp.com/https://api.darksky.net/forecast/88030114c5e47763a011a75e7a10c633/".concat(l.lat,", ").concat(l.lng),e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:s=e.sent,console.log(s),c({temperature:(5*(s.currently.temperature-32)/9).toFixed(1),wind:s.currently.windSpeed,humidity:s.currently.humidity,dewPoint:s.currently.dewPoint,pressure:s.currently.pressure,icon:s.currently.icon,summary:s.currently.summary,ciudad:l.ciudad}),y(s.hourly.data),F(s.daily.data),H({summary2:s.hourly.summary,icon2:s.hourly.icon});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l]);var E=function(){var e=Object(o.a)(d.a.mark((function e(t){var a,s,c,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target.elements.city,!(s=a.value)){e.next=17;break}return c="https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(s,".json?access_token=pk.eyJ1Ijoiam9uYXRoeiIsImEiOiJja3FkYmxqeTYxMThyMnBzN3IxZzV1NjY3In0.HpVGfj3JG4CfaxCzpYLn_g"),e.next=7,fetch(c);case 7:return n=e.sent,e.next=10,n.json();case 10:if(r=e.sent,console.log(r,"sssssss"),!(r.features.length<1)){e.next=15;break}return alert("Ingresa una ciudad valida"),e.abrupt("return");case 15:x({lat:r.features[0].center[1],lng:r.features[0].center[0],ciudad:r.features[0].place_name}),localStorage.setItem("lastLocation",JSON.stringify({lat:r.features[0].center[1],lng:r.features[0].center[0],ciudad:r.features[0].place_name}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{getLocation:E,handleGeolocate:function(){J.error?alert("Error, Actualiza y permitenos acceder a tu ubicacion"):x({lat:J.coordinates.lat,lng:J.coordinates.lng,ciudad:""})},medidasTiempo:a}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"row mt-4",children:[Object(u.jsx)(h,Object(i.a)(Object(i.a)({},a),M)),Object(u.jsx)(p,{weatherHour:v}),Object(u.jsx)(g,{weatherWeek:S})]})})]})};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root"))},70:function(e,t,a){}},[[180,1,2]]]);
//# sourceMappingURL=main.6ab1bfaa.chunk.js.map